---
import CalendarIcon from "@/components/icons/CalendarIcon.astro";
import type { Experience } from "@/types/Experience";
import { Image } from "astro:assets";

interface Props {
  item: Experience;
}

const { item } = Astro.props;
const { title, company, description, date, logo, stack } = item;
---

<div
  class="relative mx-12 pb-24 grid md:grid-cols-5
        before:absolute before:left-[-35px] before:block before:h-full before:border-l-2 before:border-gray-600 before:content-['']"
  data-aos="fade-up"
  data-aos-duration="800"
>
  <div class="md:col-span-2">
    <div class="sticky top-0">
      <span class="text-accent -left-[42px] absolute rounded-full text-5xl"
        >&bull;</span
      >
      <h3 class="text-2xl font-bold text-white mb-2">{title}</h3>
      <div class="flex justify-start gap-4">
        <div class="relative size-20 rounded-2xl overflow-hidden">
          <Image
            src={logo}
            alt={company}
            class="absolute inset-0 h-full w-auto object-cover"
          />
        </div>
        <div class="flex flex-col justify-center">
          <h4 class="text-xl text-white">
            {company}
          </h4>
          <time class="text-sm text-gray-300 flex gap-1 items-center"
            ><CalendarIcon class="size-5 text-accent" /> {date}</time
          >
        </div>
      </div>
    </div>
  </div>
  <div class="h-full flex flex-col justify-center md:col-span-3 gap-4">
    <p class="text-white text-justify text-pretty" set:html={description} />
    <ul class="flex flex-wrap gap-2 mt-2">
      {
        stack.map(({ Icon, title }) => (
          <li class="flex items-center gap-2 px-3 py-1 rounded-full text-sm text-white font-medium bg-white/10 hover:bg-white/20 border-white/10 hover:animate-lift-soft no-select">
            <Icon class="size-5" /> {title}
          </li>
        ))
      }
    </ul>
  </div>
</div>
